let code failwith_0 deleted in
let code invalid_arg_1 deleted in
let code ongoing_traversal_2 deleted in
let code flip_ongoing_traversal_3 deleted in
let code filter_map_inplace_bucket_4 deleted in
let $camlH__string83 = "index out of bounds" in
let $camlH__block85 =
  Block 0 ($`*predef*`.caml_exn_Invalid_argument, $camlH__string83)
in
let code filter_map_inplace_5 deleted in
let code loopify(never) size(10) newer_version_of(failwith_0)
      failwith_0_1 (s : val)
        my_closure _region _ghost_region my_depth
        -> k * k1
        : val =
  let Pmakeblock = %block.[`0`] ($`*predef*`.caml_exn_Failure, s) in
  cont k1 pop(regular k1) (Pmakeblock)
in
let $camlH__failwith_6 = closure failwith_0_1 @failwith in
let code loopify(never) size(10) newer_version_of(invalid_arg_1)
      invalid_arg_1_1 (s : val)
        my_closure _region _ghost_region my_depth
        -> k * k1
        : val =
  let Pmakeblock = %block.[`0`] ($`*predef*`.caml_exn_Invalid_argument, s) in
  cont k1 pop(regular k1) (Pmakeblock)
in
let $camlH__invalid_arg_7 = closure invalid_arg_1_1 @invalid_arg in
let $camlH__Pmakeblock118 =
  Block 0 ($camlH__failwith_6, $camlH__invalid_arg_7)
in
let code loopify(never) size(23) newer_version_of(ongoing_traversal_2)
      ongoing_traversal_2_1 (h : val)
        my_closure _region _ghost_region my_depth
        -> k * k1
        : imm tagged =
  let Popaque = %opaque (h) in
  let Pobj_magic = %opaque (Popaque) in
  let Popaque_1 = %opaque (Pobj_magic) in
  let Parraylength = %array_length.generic (Popaque_1) in
  let prim = %int_comp.lt (Parraylength, 4) in
  switch prim
    | 0 -> k2
    | 1 -> k (1)
    where k2 =
      let Pfield = %block_load.mut.[`3`] (h) in
      let prim_1 = %int_comp.lt (Pfield, 0) in
      let int_lessthan = %tag_imm (prim_1) in
      cont k (int_lessthan)
in
let $camlH__ongoing_traversal_8 =
  closure ongoing_traversal_2_1 @ongoing_traversal
in
let code loopify(never) size(8) newer_version_of(flip_ongoing_traversal_3)
      flip_ongoing_traversal_3_1 (h : val)
        my_closure _region _ghost_region my_depth
        -> k * k1
        : imm tagged =
  let Pfield = %block_load.mut.[`3`] (h) in
  let int_neg = %int_barith.sub (0, Pfield) in
  let Psetfield = %block_set.`imm`.[`3`] (h, int_neg) in
  cont k (0)
in
let $camlH__flip_ongoing_traversal_9 =
  closure flip_ongoing_traversal_3_1 @flip_ongoing_traversal
in
let code inline(never) loopify(never) size(1) newer_version_of(filter_map_inplace_bucket_4)
      filter_map_inplace_bucket_4_1
        (param, param_1, param_2, param_3, param_4)
        my_closure _region _ghost_region my_depth
        -> k * k1
        : imm tagged =
  cont k (0)
in
let $camlH__filter_map_inplace_bucket_10 =
  closure filter_map_inplace_bucket_4_1 @filter_map_inplace_bucket
in
let code loopify(never) size(109) newer_version_of(filter_map_inplace_5)
      filter_map_inplace_5_1 (f, htab : val)
        my_closure _region _ghost_region my_depth
        -> k * k1
        : imm tagged =
  let d = %block_load.mut.[`1`] (htab) in
  apply direct(ongoing_traversal_2_1)
    ($camlH__ongoing_traversal_8 : _ -> imm tagged) (htab) -> k3 * k1
    where k3 (param : imm tagged) =
      let unboxed_field = %untag_imm (param) in
      cont k2 (unboxed_field)
    where k2 (unboxed_field : imm) =
      let naked_immediate = unboxed_field in
      (switch naked_immediate
         | 0 -> k3
         | 1 -> k2
         where k3 =
           let Pfield = %block_load.mut.[`3`] (htab) in
           let int_neg = %int_barith.sub (0, Pfield) in
           let Psetfield = %block_set.`imm`.[`3`] (htab, int_neg) in
           cont k2
         where k2 =
           let try_region = %begin_try_region () in
           let try_ghost_region = %begin_try_ghost_region () in
           (cont k4 push(k2)
              where k4 =
                let Parraylength = %array_length (d) in
                let for_stop = %int_barith.sub (Parraylength, 1) in
                let prim = %int_comp.le (0, for_stop) in
                (switch prim
                   | 0 -> k3
                   | 1 -> k4
                   where k4 =
                     (cont k4 (0)
                        where rec k4 (i : imm tagged) =
                          ((let Pfield = %block_load.mut.[`1`] (htab) in
                            (let prim_1 = %array_length (Pfield) in
                             let prim_2 = %int_comp.unsigned.lt (i, prim_1)
                             in
                             switch prim_2
                               | 0 -> k6
                               | 1 -> k7)
                              where k7 =
                                let Parrayrefs = %array_load.mut (Pfield, i)
                                in
                                (apply direct(filter_map_inplace_bucket_4_1)
                                   ($camlH__filter_map_inplace_bucket_10
                                    : _ -> imm tagged)
                                     (f, htab, i, 0, Parrayrefs)
                                     -> k7 * k2
                                   where k7 (param : imm tagged) =
                                     cont k5)
                              where k6 =
                                cont k2 pop(regular k2) ($camlH__block85))
                             where k5 =
                               let prim_1 = %int_comp.ne (i, for_stop) in
                               (switch prim_1
                                  | 0 -> k3
                                  | 1 -> k5
                                  where k5 =
                                    let int_succ = %int_barith.add (i, 1) in
                                    cont k4 (int_succ)))))
              where k3 =
                let body_result = 0 in
                cont k pop(k2) (body_result)
              where k2 exn (`exn` : val) =
                let `unit` = %end_try_region (try_region) in
                let unit_1 = %end_try_ghost_region (try_ghost_region) in
                (switch naked_immediate
                   | 0 -> k2
                   | 1 -> k1 pop(reraise k1) (`exn`)
                   where k2 =
                     let Pfield = %block_load.mut.[`3`] (htab) in
                     let int_neg = %int_barith.sub (0, Pfield) in
                     let Psetfield = %block_set.`imm`.[`3`] (htab, int_neg)
                     in
                     cont k (0))))
in
let $camlH__filter_map_inplace_11 =
  closure filter_map_inplace_5_1 @filter_map_inplace
in
let $camlH =
  Block 0 ($camlH__Pmakeblock118,
           $camlH__ongoing_traversal_8,
           $camlH__flip_ongoing_traversal_9,
           $camlH__filter_map_inplace_bucket_10,
           $camlH__filter_map_inplace_11)
in
cont done ($camlH)
